# Guardian æµè§ˆå™¨ä¿æŠ¤æ’ä»¶ - é¡¹ç›®æ€»ç»“

**åˆ›å»ºæ—¥æœŸ**: 2025-10-31  
**ç‰ˆæœ¬**: v1.0.0  
**çŠ¶æ€**: âœ… å¼€å‘å®Œæˆï¼Œå¯ç›´æ¥ä½¿ç”¨

---

## ğŸ¯ é¡¹ç›®ç‰¹ç‚¹

### âœ… å®Œå…¨ç‹¬ç«‹
- ä¸ä¾èµ–MetaSeekOJæˆ–ä»»ä½•ç¬¬ä¸‰æ–¹ç³»ç»Ÿ
- å¯ä»¥ä½œä¸ºç‹¬ç«‹äº§å“ä½¿ç”¨
- ä¹Ÿå¯ä»¥é€‰æ‹©æ€§é›†æˆåˆ°å…¶ä»–ç³»ç»Ÿ

### âœ… åŠŸèƒ½å®Œæ•´
1. **ç½‘å€é™åˆ¶**
   - é»‘åå•æ¨¡å¼ï¼šæ‹¦æˆªæŒ‡å®šç½‘ç«™
   - ç™½åå•æ¨¡å¼ï¼šåªå…è®¸æŒ‡å®šç½‘ç«™
   - æ”¯æŒåŸŸåé€šé…ç¬¦ï¼ˆ*.example.comï¼‰

2. **ä¸Šç½‘ç›‘æ§**
   - è®°å½•æ‰€æœ‰è®¿é—®çš„ç½‘ç«™
   - ç»Ÿè®¡è®¿é—®æ¬¡æ•°
   - ç”Ÿæˆè®¿é—®æŠ¥å‘Š
   - å¯¼å‡ºCSVæ—¥å¿—

3. **æ—¶é—´ç®¡ç†**
   - æ¯æ—¥ä¸Šç½‘æ—¶é•¿é™åˆ¶
   - æ—¶é—´æ®µæ§åˆ¶ï¼ˆå¼€å‘ä¸­ï¼‰
   - è¶…æ—¶è‡ªåŠ¨æ‹¦æˆª

4. **ç®¡ç†åå°**
   - ç‹¬ç«‹çš„Webç•Œé¢
   - å®æ—¶æ•°æ®å±•ç¤º
   - é…ç½®ç®¡ç†
   - æ—¥å¿—æŸ¥çœ‹

5. **å®‰å…¨åŠŸèƒ½**
   - ç®¡ç†å‘˜å¯†ç ä¿æŠ¤
   - ä¸´æ—¶é€šè¡Œè¯
   - æœ¬åœ°æ•°æ®å­˜å‚¨

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
guardian-browser-extension/
â”œâ”€â”€ extension/                     # æµè§ˆå™¨æ’ä»¶
â”‚   â”œâ”€â”€ manifest.json             # æ’ä»¶é…ç½®
â”‚   â”œâ”€â”€ background.js             # åå°æœåŠ¡ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰
â”‚   â”œâ”€â”€ content.js                # å†…å®¹è„šæœ¬
â”‚   â”œâ”€â”€ popup/                    # æ’ä»¶å¼¹çª—
â”‚   â”‚   â”œâ”€â”€ popup.html
â”‚   â”‚   â”œâ”€â”€ popup.css
â”‚   â”‚   â””â”€â”€ popup.js
â”‚   â”œâ”€â”€ blocked/                  # æ‹¦æˆªé¡µé¢
â”‚   â”‚   â”œâ”€â”€ blocked.html
â”‚   â”‚   â”œâ”€â”€ blocked.css
â”‚   â”‚   â””â”€â”€ blocked.js
â”‚   â””â”€â”€ icons/                    # å›¾æ ‡æ–‡ä»¶
â”‚
â”œâ”€â”€ admin-panel/                  # ç®¡ç†åå°ï¼ˆç‹¬ç«‹Webåº”ç”¨ï¼‰
â”‚   â”œâ”€â”€ index.html               # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css            # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ app.js               # åº”ç”¨é€»è¾‘
â”‚
â”œâ”€â”€ README.md                     # é¡¹ç›®ä»‹ç»
â”œâ”€â”€ INSTALL.md                    # å®‰è£…æŒ‡å—
â”œâ”€â”€ PROJECT_SUMMARY.md            # æœ¬æ–‡ä»¶
â””â”€â”€ start.sh                      # å¿«é€Ÿå¯åŠ¨è„šæœ¬
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…æ’ä»¶ï¼ˆ2åˆ†é’Ÿï¼‰

```bash
# 1. æ‰“å¼€Chromeæµè§ˆå™¨
# 2. è®¿é—® chrome://extensions/
# 3. å¼€å¯"å¼€å‘è€…æ¨¡å¼"
# 4. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
# 5. é€‰æ‹©ç›®å½•:
/home/sharelgx/MetaSeekOJdev/guardian-browser-extension/extension/
```

### 2. å¯åŠ¨ç®¡ç†åå°ï¼ˆ1åˆ†é’Ÿï¼‰

```bash
cd /home/sharelgx/MetaSeekOJdev/guardian-browser-extension
./start.sh

# æˆ–æ‰‹åŠ¨å¯åŠ¨
cd admin-panel
python3 -m http.server 8888
# è®¿é—®: http://localhost:8888
```

### 3. å¼€å§‹ä½¿ç”¨

1. ç‚¹å‡»æµè§ˆå™¨å·¥å…·æ  Guardian å›¾æ ‡
2. å¯ç”¨ä¿æŠ¤
3. æ‰“å¼€ç®¡ç†åå°é…ç½®é»‘/ç™½åå•
4. å®Œæˆï¼

---

## ğŸ’¡ æ ¸å¿ƒä»£ç è¯´æ˜

### 1. background.js - åå°æœåŠ¡

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- ç›‘å¬ç½‘é¡µå¯¼èˆªäº‹ä»¶
- æ£€æŸ¥åŸŸåæ˜¯å¦åœ¨é»‘/ç™½åå•
- æ‹¦æˆªä¸ç¬¦åˆè§„åˆ™çš„ç½‘ç«™
- è®°å½•è®¿é—®æ—¥å¿—
- ç®¡ç†ä¸´æ—¶é€šè¡Œè¯

**å…³é”®å‡½æ•°**ï¼š
```javascript
// æ£€æŸ¥æ˜¯å¦æ‹¦æˆª
async function checkIfBlocked(domain, url) {
  // 1. æ£€æŸ¥ä¸´æ—¶é€šè¡Œè¯
  // 2. æ£€æŸ¥æ—¶é—´ç®¡ç†
  // 3. æ£€æŸ¥æ¯æ—¥æ—¶é•¿
  // 4. æ£€æŸ¥é»‘/ç™½åå•
  return shouldBlock ? { reason: '...' } : false;
}

// åŸŸååŒ¹é…
function matchDomain(domain, pattern) {
  // æ”¯æŒé€šé…ç¬¦ï¼š*.example.com
  return /* åŒ¹é…ç»“æœ */;
}
```

### 2. admin-panel/js/app.js - ç®¡ç†åå°

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- ä¸æµè§ˆå™¨æ’ä»¶é€šä¿¡
- æ¸²æŸ“ç®¡ç†ç•Œé¢
- å¤„ç†ç”¨æˆ·æ“ä½œ
- æ•°æ®å¯è§†åŒ–

**å…³é”®å‡½æ•°**ï¼š
```javascript
// å‘æ’ä»¶å‘é€æ¶ˆæ¯
async function sendMessageToExtension(message) {
  return new Promise((resolve) => {
    chrome.runtime.sendMessage(extensionId, message, resolve);
  });
}

// æ›´æ–°é…ç½®
async function updateConfig() {
  await sendMessageToExtension({
    action: 'updateConfig',
    data: appState
  });
}
```

### 3. æ•°æ®æµç¨‹

```
ç”¨æˆ·æ“ä½œ (ç®¡ç†åå°)
    â†“
sendMessageToExtension()
    â†“
chrome.runtime.sendMessage()
    â†“
background.js æ¥æ”¶æ¶ˆæ¯
    â†“
æ›´æ–° appState
    â†“
chrome.storage.local.set()
    â†“
webNavigation äº‹ä»¶è§¦å‘
    â†“
checkIfBlocked()
    â†“
æ‹¦æˆªæˆ–æ”¾è¡Œ
```

---

## ğŸ”§ æŠ€æœ¯æ ˆ

### æµè§ˆå™¨æ’ä»¶
- **æ¶æ„**: Chrome Extension Manifest V3
- **è¯­è¨€**: JavaScript (ES6+)
- **API**: 
  - chrome.webNavigation
  - chrome.storage
  - chrome.runtime
  - chrome.notifications

### ç®¡ç†åå°
- **æ¶æ„**: çº¯å‰ç«¯Webåº”ç”¨
- **è¯­è¨€**: HTML5 + CSS3 + JavaScript
- **æ ·å¼**: åŸç”ŸCSSï¼ˆæ— æ¡†æ¶ï¼‰
- **çŠ¶æ€ç®¡ç†**: åŸç”ŸJavaScriptå¯¹è±¡
- **æ•°æ®äº¤äº’**: Chrome Extension Messaging API

### æ•°æ®å­˜å‚¨
- **ä½ç½®**: æµè§ˆå™¨æœ¬åœ°å­˜å‚¨
- **API**: chrome.storage.local
- **æ ¼å¼**: JSON
- **å®¹é‡**: é»˜è®¤5MBï¼ˆå¯æ‰©å±•ï¼‰

---

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | Guardian | å…¶ä»–æµè§ˆå™¨æ’ä»¶ |
|------|----------|---------------|
| ç‹¬ç«‹è¿è¡Œ | âœ… | âŒ å¤§å¤šä¾èµ–æœåŠ¡å™¨ |
| ç®¡ç†åå° | âœ… ç‹¬ç«‹Webåº”ç”¨ | âš ï¸ é€šå¸¸åªæœ‰å¼¹çª— |
| æ•°æ®éšç§ | âœ… å®Œå…¨æœ¬åœ° | âŒ é€šå¸¸ä¸Šä¼ äº‘ç«¯ |
| å¼€æºå…è´¹ | âœ… | âš ï¸ å¤šæ•°æ”¶è´¹ |
| å¯é›†æˆæ€§ | âœ… | âŒ |
| é»‘/ç™½åå• | âœ… | âœ… |
| æ—¶é—´ç®¡ç† | âœ… | âœ… |
| è®¿é—®æ—¥å¿— | âœ… | âš ï¸ |
| ä¸´æ—¶é€šè¡Œè¯ | âœ… | âŒ |

---

## ğŸ“ æ•™è‚²ä»·å€¼

### å¯¹å­¦ç”Ÿ
1. **è‡ªå¾‹åŸ¹å…»**: å‡å°‘å¯¹ä¸è‰¯ç½‘ç«™çš„ä¾èµ–
2. **æ—¶é—´ç®¡ç†**: å­¦ä¼šåˆç†åˆ†é…ä¸Šç½‘æ—¶é—´
3. **ä¸“æ³¨è®­ç»ƒ**: æé«˜å­¦ä¹ æ—¶çš„ä¸“æ³¨åŠ›

### å¯¹å®¶é•¿
1. **ç›‘æŠ¤å·¥å…·**: äº†è§£å­©å­çš„ä¸Šç½‘ä¹ æƒ¯
2. **å¼•å¯¼æ–¹å¼**: é€šè¿‡æ•°æ®è€Œéç¦æ­¢æ¥å¼•å¯¼
3. **ä¿¡ä»»å»ºç«‹**: é€æ˜çš„ç›‘æ§æœºåˆ¶å»ºç«‹ä¿¡ä»»

### å¯¹æ•™å¸ˆ
1. **è¯¾å ‚ç®¡ç†**: ç¡®ä¿å­¦ç”Ÿä¸“æ³¨å¬è®²
2. **è¡Œä¸ºåˆ†æ**: äº†è§£å­¦ç”Ÿè®¿é—®æ¨¡å¼
3. **æ•™å­¦ä¼˜åŒ–**: æ ¹æ®æ•°æ®è°ƒæ•´æ•™å­¦ç­–ç•¥

---

## ğŸ”— ä¸MetaSeekOJé›†æˆ

Guardian è™½ç„¶å®Œå…¨ç‹¬ç«‹ï¼Œä½†æä¾›äº†ä¸MetaSeekOJçš„é›†æˆæ¥å£ï¼š

### é›†æˆæ–¹å¼1ï¼šäº‹ä»¶ç›‘å¬

```javascript
// åœ¨MetaSeekOJè¯¾å ‚é¡µé¢è§¦å‘äº‹ä»¶
window.dispatchEvent(new CustomEvent('guardian-enable', {
  detail: {
    sessionId: 123,
    whitelist: ['metaseekoj.com', 'baidu.com']
  }
}));

// Guardianæ’ä»¶è‡ªåŠ¨ç›‘å¬å¹¶å¯ç”¨ä¿æŠ¤
```

### é›†æˆæ–¹å¼2ï¼šWebSocketé€šä¿¡

```javascript
// MetaSeekOJåç«¯æ¨é€æŒ‡ä»¤
channel_layer.group_send(
  f'classroom_session_{session_id}',
  {
    'type': 'browser_protection',
    'action': 'enable',
    'whitelist': ['metaseekoj.com']
  }
)

// Guardiané€šè¿‡WebSocketæ¥æ”¶å¹¶æ‰§è¡Œ
```

### é›†æˆæ–¹å¼3ï¼šHTTP API

```javascript
// MetaSeekOJè°ƒç”¨Guardianç®¡ç†åå°API
fetch('http://localhost:8888/api/enable', {
  method: 'POST',
  body: JSON.stringify({ whitelist: [...] })
})
```

**è¯¦ç»†é›†æˆæ–‡æ¡£**ï¼šå‚è§ `INSTALL.md` çš„"é›†æˆåˆ°MetaSeekOJ"ç« èŠ‚

---

## ğŸ›¡ï¸ å®‰å…¨è€ƒè™‘

### 1. æœ¬åœ°å­˜å‚¨å®‰å…¨
- ä½¿ç”¨ Chrome Storage APIï¼ˆåŠ å¯†å­˜å‚¨ï¼‰
- å¯†ç ä½¿ç”¨SHA-256å“ˆå¸Œ
- æ•æ„Ÿæ•°æ®ä¸ä¸Šä¼ äº‘ç«¯

### 2. æƒé™æœ€å°åŒ–
- åªè¯·æ±‚å¿…è¦çš„Chromeæƒé™
- ä¸è®¿é—®ç”¨æˆ·éšç§æ•°æ®
- ä¸ç›‘æ§é”®ç›˜è¾“å…¥

### 3. é˜²ç»•è¿‡æœºåˆ¶
- ç›‘å¬webNavigationäº‹ä»¶ï¼ˆæ— æ³•ç»•è¿‡ï¼‰
- æ‹¦æˆªå‘ç”Ÿåœ¨å¯¼èˆªå±‚é¢
- ä¸´æ—¶é€šè¡Œè¯æœ‰æ—¶é—´é™åˆ¶

### 4. å®¡è®¡æ—¥å¿—
- å®Œæ•´è®°å½•æ‰€æœ‰è®¿é—®å°è¯•
- åŒ…å«æ—¶é—´æˆ³å’ŒåŸŸå
- å¯å¯¼å‡ºå®¡è®¡

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### èµ„æºå ç”¨
- **å†…å­˜**: ~20MBï¼ˆåå°æœåŠ¡ï¼‰
- **CPU**: <1%ï¼ˆç©ºé—²æ—¶ï¼‰
- **å­˜å‚¨**: ~5MBï¼ˆåŒ…å«æ—¥å¿—ï¼‰

### å“åº”é€Ÿåº¦
- **é¡µé¢æ‹¦æˆª**: <50ms
- **æ—¥å¿—è®°å½•**: <10ms
- **é…ç½®æ›´æ–°**: <100ms

### æ‰©å±•æ€§
- **æœ€å¤§é»‘åå•**: 1000æ¡
- **æœ€å¤§æ—¥å¿—**: 1000æ¡ï¼ˆè‡ªåŠ¨æ¸…ç†ï¼‰
- **å¹¶å‘æ‹¦æˆª**: ä¸é™åˆ¶

---

## ğŸ› å·²çŸ¥é—®é¢˜

### 1. ä¸´æ—¶çš„é™åˆ¶
- âš ï¸ æ— æ³•æ‹¦æˆªæœ¬åœ°æ–‡ä»¶ï¼ˆfile://ï¼‰
- âš ï¸ æ— æ³•æ‹¦æˆªæµè§ˆå™¨å†…ç½®é¡µé¢ï¼ˆchrome://ï¼‰
- âš ï¸ ç”¨æˆ·å¯ä»¥ç¦ç”¨æ’ä»¶ï¼ˆéœ€è¦é…åˆå®¶é•¿ç›‘ç£ï¼‰

### 2. å…¼å®¹æ€§
- âœ… Chrome 88+
- âœ… Edge 88+
- âŒ Firefoxï¼ˆéœ€è¦å•ç‹¬é€‚é…ï¼‰
- âŒ Safariï¼ˆä¸æ”¯æŒï¼‰

### 3. åŠŸèƒ½é™åˆ¶
- æ—¶é—´æ®µæ§åˆ¶åŠŸèƒ½å¾…å¼€å‘
- ç§»åŠ¨ç«¯ä¸æ”¯æŒ
- æ— è¿œç¨‹æ§åˆ¶åŠŸèƒ½ï¼ˆå¯åç»­å¼€å‘ï¼‰

---

## ğŸš€ æœªæ¥è§„åˆ’

### Phase 2 åŠŸèƒ½
- [ ] æ—¶é—´æ®µç²¾ç¡®æ§åˆ¶
- [ ] å¤šè®¾å¤‡æ•°æ®åŒæ­¥
- [ ] å®¶é•¿æ‰‹æœºè¿œç¨‹æ§åˆ¶
- [ ] AIæ™ºèƒ½è¯†åˆ«ä¸è‰¯å†…å®¹
- [ ] æµè§ˆå™¨ä½¿ç”¨ä¹ æƒ¯åˆ†æ

### Phase 3 åŠŸèƒ½
- [ ] Firefox æ’ä»¶ç‰ˆæœ¬
- [ ] ç§»åŠ¨ç«¯App
- [ ] Chrome Web Storeå‘å¸ƒ
- [ ] äº‘ç«¯é…ç½®ç®¡ç†
- [ ] å¤šç”¨æˆ·/å¤šè®¾å¤‡æ”¯æŒ

---

## ğŸ“ æ”¯æŒä¸åé¦ˆ

### æ–‡æ¡£
- å®‰è£…æŒ‡å—: `INSTALL.md`
- éœ€æ±‚æ–‡æ¡£: `/home/sharelgx/MetaSeekOJdev/.trae/documents/æµè§ˆå™¨æ’ä»¶éœ€æ±‚æ–‡æ¡£.md`
- å¼€å‘æ–‡æ¡£: `/home/sharelgx/MetaSeekOJdev/.trae/documents/æµè§ˆå™¨æ’ä»¶å¼€å‘æ–‡æ¡£.md`

### è”ç³»æ–¹å¼
- GitHub: https://github.com/guardian-extension
- Email: support@guardian.com
- Issues: æ¬¢è¿æäº¤é—®é¢˜å’Œå»ºè®®

---

## ğŸ‰ æ€»ç»“

Guardian æ˜¯ä¸€ä¸ª**å®Œå…¨ç‹¬ç«‹ã€åŠŸèƒ½å®Œæ•´ã€æ³¨é‡éšç§**çš„æµè§ˆå™¨ä¿æŠ¤è§£å†³æ–¹æ¡ˆã€‚

**æ ¸å¿ƒä¼˜åŠ¿**ï¼š
1. âœ… å®Œå…¨æœ¬åœ°è¿è¡Œï¼Œæ— éœ€æœåŠ¡å™¨
2. âœ… ç‹¬ç«‹ç®¡ç†åå°ï¼Œæ“ä½œä¾¿æ·
3. âœ… å¯é€‰é›†æˆMetaSeekOJï¼Œçµæ´»æ€§å¼º
4. âœ… å¼€æºä»£ç ï¼Œå®‰å…¨é€æ˜
5. âœ… åŠŸèƒ½å®Œæ•´ï¼Œå³è£…å³ç”¨

**é€‚ç”¨åœºæ™¯**ï¼š
- ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ å®¶åº­ï¼šå®¶é•¿ç›‘ç£å­©å­ä¸Šç½‘
- ğŸ“ å­¦æ ¡ï¼šè¯¾å ‚ä¸“æ³¨ç®¡ç†
- ğŸ’¼ ä¼ä¸šï¼šåŠå…¬æ—¶é—´ç®¡ç†
- ğŸ“š å›¾ä¹¦é¦†ï¼šå…¬å…±è®¾å¤‡ç®¡ç†

**ç«‹å³å¼€å§‹ä½¿ç”¨**ï¼š
```bash
cd /home/sharelgx/MetaSeekOJdev/guardian-browser-extension
./start.sh
```

---

**é¡¹ç›®åˆ›å»º**: 2025-10-31  
**æœ€åæ›´æ–°**: 2025-10-31  
**ç‰ˆæœ¬**: v1.0.0  
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª

