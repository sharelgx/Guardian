# Guardian 拦截不生效 - 故障排查

## 🔍 检查清单

### 1. 插件是否正确安装？
- [ ] Chrome扩展页面（chrome://extensions/）能看到Guardian
- [ ] 插件状态是「已启用」（开关是打开的）
- [ ] 没有错误提示

### 2. 保护开关是否打开？
- [ ] 点击浏览器工具栏的Guardian图标
- [ ] 「启用保护」开关是打开的（绿色）

### 3. 黑名单是否正确添加？
- [ ] 域名格式正确：bilibili.com（不要加 http:// 或 www.）
- [ ] 管理后台能看到黑名单列表中有 bilibili.com

### 4. 配置是否保存？
- [ ] 添加黑名单后，点击了保存
- [ ] 启用保护后，刷新了页面

## ❗ 当前问题分析

如果添加了 bilibili.com 但还能访问，可能的原因：

### 原因1：管理后台和插件没有同步
**问题**：管理后台添加的黑名单，插件没有收到

**解决**：管理后台目前是独立的Web应用，需要通过插件弹窗来操作

**正确操作方式**：
```
方式1（推荐）：使用插件弹窗
1. 访问 bilibili.com
2. 点击工具栏 Guardian 图标
3. 点击「加入黑名单」按钮
4. 开启「启用保护」开关
5. 刷新页面测试

方式2：通过浏览器控制台
1. 打开 chrome://extensions/
2. 找到 Guardian 扩展
3. 点击「service worker」链接
4. 在控制台运行测试命令
```

### 原因2：插件后台服务未启动
**问题**：background.js 没有运行

**检查**：
1. 打开 chrome://extensions/
2. 找到 Guardian
3. 看是否有「service worker」链接
4. 点击查看是否有错误

### 原因3：配置没有保存到插件存储
**问题**：黑名单没有真正保存

**解决**：使用插件弹窗直接操作

